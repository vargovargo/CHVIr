GHG <- read.csv("~/GHG_leb/CoolClimateZips.csv", header=T, stringsAsFactors = FALSE)
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=popden, y=Vehicle.miles.traveled)) +
theme_fivethirtyeight()
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=as.numeric(popden), y=as.numeric(Vehicle.miles.traveled))) +
theme_fivethirtyeight()
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=as.numeric(as.character(popden)), y=as.numeric(as.character(Vehicle.miles.traveled)))) +
theme_fivethirtyeight()
head(GHG)
GHG <- read.csv("~/GHG_leb/CoolClimateZips.csv", header=T, stringsAsFactors = FALSE)
head(GHG)
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=as.numeric(as.character(popden)), y=as.numeric(as.character(Vehicle.miles.traveled)))) +
theme_fivethirtyeight()
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=popden, y=Vehicle.miles.traveled)) +
geom_smooth(aes(x=popden, y=Vehicle.miles.traveled)) +
theme_fivethirtyeight()
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=popden, y=Vehicle.miles.traveled)) +
geom_smooth(aes(x=popden, y=Vehicle.miles.traveled), method = "loess") +
theme_fivethirtyeight()
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=popden, y=Vehicle.miles.traveled, color= MSAName )) +
geom_smooth(aes(x=popden, y=Vehicle.miles.traveled), method = "loess") +
theme_fivethirtyeight()
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=popden, y=Vehicle.miles.traveled, color= MSAName )) +
geom_smooth(aes(x=popden, y=Vehicle.miles.traveled), method = "loess") +
theme_fivethirtyeight()
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=popden, y=Vehicle.miles.traveled, color= MSAName )) +
geom_smooth(aes(x=popden, y=Vehicle.miles.traveled), method = "loess") +
theme_tufte()
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=popden, y=Vehicle.miles.traveled, color= MSAName )) +
geom_smooth(aes(x=popden, y=Vehicle.miles.traveled), method = "loess") +
theme_economist()
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=popden, y=Vehicle.miles.traveled, color= MSAName )) +
geom_smooth(aes(x=popden, y=Vehicle.miles.traveled), method = "loess") +
theme_fivethirtyeight()
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=popden, y=Vehicle.miles.traveled, color= CMSAName )) +
geom_smooth(aes(x=popden, y=Vehicle.miles.traveled), method = "loess") +
theme_fivethirtyeight()
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=popden, y=Vehicle.miles.traveled, color= CBSAName )) +
geom_smooth(aes(x=popden, y=Vehicle.miles.traveled), method = "loess") +
theme_fivethirtyeight()
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=popden, y=Vehicle.miles.traveled, color= CBSAType )) +
geom_smooth(aes(x=popden, y=Vehicle.miles.traveled), method = "loess") +
theme_fivethirtyeight()
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=popden, y=Vehicle.miles.traveled)) +
geom_smooth(aes(x=popden, y=Vehicle.miles.traveled), method = "loess") +
theme_fivethirtyeight()
library(ggthemes)
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=popden, y=Vehicle.miles.traveled)) +
geom_smooth(aes(x=popden, y=Vehicle.miles.traveled), method = "loess") +
theme_fivethirtyeight() + main("VMT vs PopDensity")
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=popden, y=Vehicle.miles.traveled)) +
geom_smooth(aes(x=popden, y=Vehicle.miles.traveled), method = "loess") +
theme_fivethirtyeight() + ggtitle("VMT vs PopDensity")
names(GHG)
GHG %>% filter(State == "CA") %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions")%>%
ggplot() +
geom_point(aes(x=popden, y=emissions, color=Category)) +
geom_smooth(aes(x=popden, y=emissions, color=Category, group= Category), method = "loess") +
theme_fivethirtyeight() + ggtitle("VMT vs PopDensity")
GHG %>% filter(State == "CA") %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions")%>%
ggplot() +
geom_point(aes(x=log(popden), y=emissions, color=Category)) +
geom_smooth(aes(x=log(popden), y=emissions, color=Category, group= Category), method = "loess") +
theme_fivethirtyeight() + ggtitle("VMT vs PopDensity")
GHG %>% filter(State == "CA") %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions")%>%
ggplot() +
geom_point(aes(x=log(popden), y=emissions, color=Category)) +
geom_smooth(aes(x=log(popden), y=emissions, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() + ggtitle("VMT vs PopDensity")
GHG %>% filter(State == "CA") %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions")%>%
ggplot() +
geom_point(aes(x=popden, y=emissions, color=Category)) +
geom_smooth(aes(x=popden, y=emissions, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() + ggtitle("VMT vs PopDensity")
GHG %>% filter(State == "CA") %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total")
GHG %>% filter(State == "CA") %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(x=popden, y=emissions, color=Category)) +
geom_smooth(aes(x=popden, y=emissions, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() + ggtitle("VMT vs PopDensity")
GHG %>% filter(State == "CA") %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(x=popden, y=emissions, color=Category)) +
geom_smooth(aes(x=popden, y=emissions, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_fivethirtyeight()+ ggtitle("PerCapita Carbon Emissions vs. PopDensity")
GHG %>% filter(State == "CA") %>%
ggplot() +
geom_point(aes(x=popden, y=Vehicle.miles.traveled)) +
geom_smooth(aes(x=popden, y=Vehicle.miles.traveled), method = "loess") +
theme_fivethirtyeight() +
scale_colour_fivethirtyeight()+ ggtitle("VMT vs PopDensity")
GHG %>% filter(State == "CA") %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(x=popden, y=emissions, color=Category)) +
geom_smooth(aes(x=popden, y=emissions, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_economist() + ggtitle("PerCapita Carbon Emissions vs. PopDensity")
GHG %>% filter(State == "CA") %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(x=popden, y=emissions, color=Category)) +
geom_smooth(aes(x=popden, y=emissions, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_brewer() + ggtitle("PerCapita Carbon Emissions vs. PopDensity")
GHG %>% filter(State == "CA") %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(x=popden, y=emissions, color=Category)) +
geom_smooth(aes(x=popden, y=emissions, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_colorblind() + ggtitle("PerCapita Carbon Emissions vs. PopDensity")
GHG %>% filter(State == "CA") %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(x=popden, y=emissions, color=Category)) +
geom_smooth(aes(x=popden, y=emissions, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_discrete() + ggtitle("PerCapita Carbon Emissions vs. PopDensity")
GHG %>% filter(State == "CA") %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(x=popden, y=emissions, color=Category)) +
geom_smooth(aes(x=popden, y=emissions, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_gradient_tableau() + ggtitle("PerCapita Carbon Emissions vs. PopDensity")
GHG %>% filter(State == "CA") %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(x=popden, y=emissions, color=Category)) +
geom_smooth(aes(x=popden, y=emissions, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_wsj() + ggtitle("PerCapita Carbon Emissions vs. PopDensity")
GHG %>% filter(State == "CA") %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(x=popden, y=emissions, color=Category)) +
geom_smooth(aes(x=popden, y=emissions, color=Category, group= Category), method = "glm") +
theme_wsj() +
scale_colour_wsj() + ggtitle("PerCapita Carbon Emissions vs. PopDensity")
fivethirtyeight
GHG %>% filter(State == "CA") %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(x=popden, y=emissions, color=Category)) +
geom_smooth(aes(x=popden, y=emissions, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_wsj() + ggtitle("PerCapita Carbon Emissions vs. PopDensity")
knitr::opts_chunk$set(echo = TRUE, warning = FALSE)
library(tidyverse)
library(sf)
library(ggthemes)
tracts <- st_read("~/CHVI_copy/data/shapefiles/census_tracts2010.shp")
GHGpt <- st_multipoint(x = matrix(data = c(GHG$Longitude, GHG$Latitude), ncol = 2),dim = "XY")
GHGpt <- st_as_sf(GHG, coords = c("Longitude", "Latitude"), crs = utm18nCRS)
GHGpt <- st_as_sf(GHG, coords = c("Longitude", "Latitude"), crs = 4326)
head(health)
health <- read.csv("~/GHG_leb/HPIhealthOutcomes.csv", header=T) %>%
mutate(ct10= as.character(paste0("0",geoid)))
health <- read.csv("~/GHG_leb/HPIhealthOutcomes.csv", header=T) %>%
mutate(ct10= as.character(paste0("0",geoid)))
GHG <- read.csv("~/GHG_leb/CoolClimateZips.csv", header=T, stringsAsFactors = FALSE)
head(health)
head(health)
head(GHG)
tracts <- st_read("~/CHVI_copy/data/shapefiles/census_tracts2010.shp") %>%
left_join(health)
GHGpt <- st_as_sf(GHG, coords = c("Longitude", "Latitude"), crs = 4326)
st_intersection(x = tracts, y =GHGpt)
tracts <- st_read("~/CHVI_copy/data/shapefiles/census_tracts2010.shp") %>%
st_transform(crs = 4326) %>%
left_join(health)
GHGpt <- st_as_sf(GHG, coords = c("Longitude", "Latitude"), crs = 4326)
GHGpt <- st_as_sf(GHG, coords = c("Longitude", "Latitude"), crs = 4326)
st_intersection(x = tracts, y =GHGpt)
intersect <- st_intersection(x = tracts, y =GHGpt)
x
intersect <- st_intersection(x = tracts, y =GHGpt)
View(intersect)
GHG %>% filter(State == "CA") %>% nrows()
GHG %>% filter(State == "CA") %>% nrow()
names9intersect
names(intersect)
intersect$leb
intersect %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
ggplot() +
geom_point(aes(x=total, y=leb)) +
geom_smooth(aes(x=total, y=leb), method = "glm") +
theme_fivethirtyeight() +
scale_colour_wsj() + ggtitle("PerCapita Carbon Emissions vs. PopDensity")
intersect %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
ggplot() +
geom_point(aes(x=goods, y=leb)) +
geom_smooth(aes(x=total, y=leb), method = "glm") +
theme_fivethirtyeight() +
scale_colour_wsj() + ggtitle("PerCapita Carbon Emissions vs. PopDensity")
intersect %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
ggplot() +
geom_point(aes(x=transport, y=leb)) +
geom_smooth(aes(x=total, y=leb), method = "glm") +
theme_fivethirtyeight() +
scale_colour_wsj() + ggtitle("PerCapita Carbon Emissions vs. PopDensity")
intersect %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.) %>%
ggplot() +
geom_point(aes(x=transport, y=leb)) +
geom_smooth(aes(x=transport, y=leb), method = "glm") +
theme_fivethirtyeight() +
scale_colour_wsj() + ggtitle("PerCapita Carbon Emissions vs. PopDensity")
intersect %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.)  %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(x=popden, y=emissions, color=Category)) +
geom_smooth(aes(x=popden, y=emissions, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_wsj() + ggtitle("PerCapita Carbon Emissions vs. PopDensity")
intersect %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.)  %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(x=popden, y=emissions, color=Category)) +
geom_smooth(aes(x=popden, y=emissions, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_wsj() + ggtitle("PerCapita Carbon Emissions vs. PopDensity")
intersect %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.)  %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(x=leb, y=emissions, color=Category)) +
geom_smooth(aes(x=leb, y=emissions, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_wsj() + ggtitle("PerCapita Carbon Emissions vs. PopDensity")
intersect %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.)  %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(y=leb, x=emissions, color=Category)) +
geom_smooth(aes(y=leb, x=emissions, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_wsj() + ggtitle("PerCapita Carbon Emissions vs. Life Expectancy at Birth")
intersect %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.)  %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(y=leb, x=emissions/HouseholdsPerZipCode, color=Category)) +
geom_smooth(aes(y=leb, x=emissions/HouseholdsPerZipCode, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_wsj() + ggtitle("PerCapita Carbon Emissions vs. Life Expectancy at Birth")
intersect %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.)  %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(y=leb, x=log(emissions/HouseholdsPerZipCode), color=Category)) +
geom_smooth(aes(y=leb, x=log(emissions/HouseholdsPerZipCode), color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_wsj() + ggtitle("PerCapita Carbon Emissions vs. Life Expectancy at Birth")
View(GHG)
View(intersect)
intersect %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.)  %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(y=leb, x=emissions*HouseholdsPerZipCode, color=Category)) +
geom_smooth(aes(y=leb, x=emissions*HouseholdsPerZipCode, color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_wsj() + ggtitle("PerCapita Carbon Emissions vs. Life Expectancy at Birth")
intersect %>%
rename(transport = Transport..tCO2e.yr.,
housing = Housing..tCO2e.yr.,
food = Food..tCO2e.yr.,
goods =  Goods..tCO2e.yr.,
services = Services..tCO2e.yr.,
total = Total..tCO2e.yr.)  %>%
gather(transport, housing, food, goods, services, total, key = "Category",value = "emissions") %>%
filter(Category != "total") %>%
ggplot() +
geom_point(aes(y=leb, x=log(emissions*HouseholdsPerZipCode), color=Category)) +
geom_smooth(aes(y=leb, x=log(emissions*HouseholdsPerZipCode), color=Category, group= Category), method = "glm") +
theme_fivethirtyeight() +
scale_colour_wsj() + ggtitle("Total Carbon Emissions vs. Life Expectancy at Birth")
runApp('GitHub/CHVIr/CHIViz')
shiny::runApp('GitHub/CHVIr/CHIViz')
runApp('GitHub/CHVIr/CHIViz')
runApp('GitHub/CHVIr/CHIViz')
library(shiny)
library(tidyverse)
library(markdown)
library(leaflet)
library(shinythemes)
library(ggthemes)
library(sf)
links <-read.csv(url("https://raw.githubusercontent.com/vargovargo/CHVIr/master/CHPRlinks.csv"), header=T)
CHVIdata <- read.csv(url("https://raw.githubusercontent.com/vargovargo/CHVIr/master/chviCountyTidy.csv"), header=T)
unique(CHVIdata$climReg)
unique(CHVIdata$county[CHVIdata$climReg == "North Sierra"])
unique(CHVIdata$county[CHVIdata$climReg == "North Sierra"])
unique(CHVIdata$county[CHVIdata$climReg == "North Sierra"])
l
unique(CHVIdata$county[CHVIdata$climReg == "North Sierra"])
unique(CHVIdata$climReg)
runApp('GitHub/CHVIr/CHIViz')
?reorder
runApp('GitHub/CHVIr/CHIViz')
runApp('GitHub/CHVIr/CHIViz')
